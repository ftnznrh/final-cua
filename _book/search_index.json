[
["data-tidying.html", "Chapter 2 Data Tidying", " Chapter 2 Data Tidying #Weather data - July 2018 to February 2019 (daily summaries) changi_daily_weather &lt;- read_excel(here::here(&quot;Data/daily_weather_changi.xlsx&quot;)) %&gt;% mutate(date=date(date)) # Changi traffic data - July 2018 to February 2019 (hourly data) changi_stats &lt;- read_excel(here::here(&quot;Data/changi_stats.xlsx&quot;)) #Changi Weather and Traffic data - July 2018 to February 2019 (hourly data) changi_hourly_weather&lt;-read_excel(here::here(&quot;Data/weather_june18_feb19.xlsx&quot;)) changi_hourly_weather &lt;-changi_hourly_weather %&gt;% mutate(total_tfc = departure_tfc+arrival_tfc) hourly_stats_weather &lt;-changi_hourly_weather %&gt;% mutate(hour = hour(local_time)) %&gt;% mutate(date = date(local_time)) changi_stats &lt;- read_excel(here::here(&quot;Data/changi_stats.xlsx&quot;)) %&gt;% mutate(daily_tfc = departure_tfc+arrival_tfc) %&gt;% mutate(date = date(local_time)) daily_tfc_flow&lt;-changi_stats %&gt;% group_by(date) %&gt;% summarise(daily_tfc = sum(daily_tfc)) daily_stats_weather &lt;- left_join(changi_daily_weather, daily_tfc_flow) ## Joining, by = &quot;date&quot; rain_hours &lt;-hourly_stats_weather %&gt;% filter(weather_main == &quot;Rain&quot;| weather_main == &quot;Thunderstorm&quot;) daily_stats_weather &lt;-daily_stats_weather %&gt;% mutate(weather = if_else(daily_rainfall_mm == 0.0, &quot;NO RAIN&quot;, &quot;RAIN&quot;)) hourly_stats_weather&lt;-hourly_stats_weather %&gt;% select(-local_time) %&gt;% mutate(temp = temp/10) %&gt;% mutate(temp_min = temp_min/10) %&gt;% mutate(temp_max = temp_max/10) daily_stats_weather&lt;- daily_stats_weather %&gt;% mutate(daily_wind_speed = wind_speed) %&gt;% mutate(daily_max_wind_speed = max_wind_speed) %&gt;% select(-wind_speed, - max_wind_speed) data&lt;- left_join(hourly_stats_weather, daily_stats_weather, by = &quot;date&quot;) "]
]
