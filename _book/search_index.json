[
["data-tidying.html", "Chapter 2 Data Tidying", " Chapter 2 Data Tidying library(tidyverse) ## Warning: package &#39;tibble&#39; was built under R version 3.5.2 library(readxl) library(lubridate) library(ggplot2) library(factoextra) #Weather data - July 2018 to February 2019 (daily summaries) changi_daily_weather &lt;- read_excel(here::here(&quot;Data/daily_weather_changi.xlsx&quot;)) %&gt;% mutate(date=date(date)) # Changi traffic data - Julu 2018 to February 2019 (hourly data) changi_stats &lt;- read_excel(here::here(&quot;Data/changi_stats.xlsx&quot;)) %&gt;% mutate(date = date(local_time)) #summary of daily sum of, and total departures and arrivals per day tfc_flow&lt;-changi_stats %&gt;% group_by(date) %&gt;% summarise(arrival_tfc = sum(arrival_tfc), departure_tfc = sum(departure_tfc)) %&gt;% mutate(daily_tfc = departure_tfc+ arrival_tfc) %&gt;% mutate(mean_hourly_tfc = daily_tfc/24) daily_stats_weather&lt;-left_join(tfc_flow, changi_daily_weather) ## Joining, by = &quot;date&quot; changi_hourly_weather&lt;-read_excel(here::here(&quot;Data/weather_june18_feb19.xlsx&quot;)) changi_hourly_weather &lt;-changi_hourly_weather %&gt;% mutate(date = date(local_time)) combined_data&lt;- left_join(changi_hourly_weather, changi_stats) %&gt;% mutate(date=date(local_time)) ## Joining, by = c(&quot;local_time&quot;, &quot;date&quot;) rainy_days &lt;- daily_stats_weather %&gt;% filter(daily_rainfall_mm&gt;0) rainy_date&lt;-rainy_days %&gt;% select(date) "]
]
